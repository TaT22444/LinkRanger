# Cloudflare セットアップガイド

## ステップ1: Cloudflareアカウント作成

1. **サイトアクセス**
   - https://cloudflare.com にアクセス
   - 「Sign Up」をクリック

2. **アカウント登録**
   - メールアドレス入力
   - パスワード設定
   - アカウント作成完了

## ステップ2: ドメイン追加

1. **「Add a Site」をクリック**
   - ダッシュボードで「Add a Site」
   - `dot-wink.com` を入力
   - 「Add site」をクリック

2. **プラン選択**
   - 「Free $0/month」を選択
   - 「Continue」をクリック

## ステップ3: DNS設定確認・追加

1. **既存DNS確認**
   - Cloudflareが自動で既存DNSをスキャン
   - 必要に応じて既存レコードを確認

2. **Firebase用DNSレコード追加**
   ```
   種別: A
   名前: @
   内容: 151.101.1.195
   プロキシ: オフ（灰色クラウド）
   
   種別: A  
   名前: @
   内容: 151.101.65.195
   プロキシ: オフ（灰色クラウド）
   ```

3. **「Continue」をクリック**

## ステップ4: ネームサーバー確認

Cloudflareが提供するネームサーバー例:
```
ns1.cloudflare.com
ns2.cloudflare.com
```
※実際の値は画面で確認してください

## ステップ5: Xドメインでネームサーバー変更

1. **Xドメイン管理画面**
   - https://www.xdomain.ne.jp/ にログイン

2. **ドメイン設定**
   - 「ドメイン一覧」→「dot-wink.com」
   - 「ドメイン設定」

3. **ネームサーバー変更**
   - 「ネームサーバー設定」
   - 「他のサービスで利用する」を選択
   - Cloudflareのネームサーバーを入力
   ```
   ネームサーバー1: [Cloudflareから提供された値]
   ネームサーバー2: [Cloudflareから提供された値]
   ```

## ステップ6: 設定完了確認

DNS伝播確認（24-48時間後）:
```bash
dig ns dot-wink.com    # ネームサーバー確認
dig dot-wink.com       # Aレコード確認
```

## 重要なポイント
- Firebase用AレコードはProxy（オレンジクラウド）を**オフ**にする
- ネームサーバー変更後、反映まで最大48時間
- Cloudflareで「SSL/TLS」設定は「Full」推奨